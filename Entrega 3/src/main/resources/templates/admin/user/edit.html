<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
		/>
		<link rel="stylesheet" th:href="@{~/css/login.css}" />
		<title th:text="${title}">Title</title>
	</head>
	<body>
		<div class="signup-admin">
			<div class="signup-admin-header"></div>
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="col-12 mt-3">
							<h3>Editar</h3>
							<hr />
						</div>
						<form
							class="needs-validation"
							method="post"
							th:object="${user}"
							th:action="@{~/admin/users/{id}/edit(id=${user.id})}"
							novalidate
						>
							<div class="row">
								<div class="col-12">
									<div
										th:replace="fragments/_errors :: errors"
									></div>
									<div
										th:replace="fragments/_feedback :: success"
									></div>
								</div>
                                <input type="hidden" th:field="*{id}">
								<div class="col-8">
									<div class="form-group">
										<label class="form-label">Nome</label>
										<input
											type="text"
											placeholder="Digite seu nome"
											class="form-control"
											th:field="*{name}"
                                            th:value="${user.name}"
											required
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-4">
									<div class="form-group">
										<label class="form-label"
											>Data de Nascimento</label
										>
										<input
											class="form-control"
											type="date"
                                            th:value="${date}"
                                            name="date"
											required
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label"
											>Endereço</label
										>
										<input
											type="address"
											placeholder="Digite seu endereço"
											class="form-control"
											name="address"
											th:value="${user.address}"
                                            required
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label">E-mail</label>
										<input
											type="email"
											placeholder="Digite seu e-mail"
											class="form-control"
											th:field="*{email}"
											th:value="${user.email}"
											required
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label">Senha</label>
										<input
											type="password"
											placeholder="Digite uma senha"
											class="form-control"
											th:field="${user.password}"
                                            th:value="${user.password}"
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label"
											>Confirmar senha</label
										>
										<input
											type="password"
											placeholder="Confirme sua senha"
											class="form-control"
											name="confirmPassword"
                                            th:value="${user.password}"
										/>
										<div
											th:replace="fragments/_errors :: feedback"
										></div>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label"
											>Plataformas que possui</label
										>
										<select
											class="form-select"
											th:field="${user.platforms}"
                                            size="3"
											multiple
										>
											<option
												th:each="platform : ${platforms}"
												th:value="${platform.id}"
                                                th:selected="${user.platforms.contains(platform)}"
												th:text="${platform.name}"
											></option>
										</select>
									</div>
								</div>
								<div class="col-6 mt-2">
									<div class="form-group">
										<label class="form-label"
											>Gêneros de preferência</label
										>
										<select
											class="form-select"
											th:field="${user.genres}"
                                            size="3"
											multiple
										>
											<option
												th:each="genre : ${genres}"
												th:value="${genre.id}"
                                                th:selected="${user.genres.contains(genre)}"
												th:text="${genre.name}"
											></option>
										</select>
									</div>
								</div>
								<div class="col-12 mt-2">
									<div class="form-group">
										<label class="form-label"
											>Nível de Acesso</label
										>
										<select class="form-select" th:field="${user.role}">
											<option
												th:each="role : ${roles}"
												th:value="${role}"
												th:text="${role.NAME}"
											></option>
										</select>
									</div>
								</div>
							</div>
							<div class="col-12 mb-3">
								<div class="d-grid gap-2">
									<button
										class="btn btn-success mt-4"
										type="submit"
									>
										Salvar
									</button>
									<a class="btn btn-secondary" href="/admin/users">
										Voltar
									</a>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<script
			src="https://kit.fontawesome.com/a3de6dbf75.js"
			crossorigin="anonymous"
		></script>
		<script th:src="@{~/js/scripts.js}"></script>
		<script th:src="@{~/js/validate.js}"></script>
	</body>
</html>
